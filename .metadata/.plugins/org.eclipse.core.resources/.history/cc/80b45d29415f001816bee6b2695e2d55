/**
 *
 *  @author Szarek Marcin S15541
 *
 */

package zad1;


import java.math.BigDecimal;
import java.util.HashMap;
import java.util.function.*;

public class Calc {
	
    public HashMap<String, BiFunction<BigDecimal, BigDecimal, BigDecimal>> commands = new HashMap<String, BiFunction<BigDecimal, BigDecimal, BigDecimal>>();
	
   
    	commands.put("+" , adding);
    	
		commands.put("-" , ((BigDecimal x, BigDecimal y) -> x.subtract(y)));
		commands.put("*" , ((BigDecimal x, BigDecimal y) -> x.multiply(y)));
		commands.put("/" , ((BigDecimal x, BigDecimal y) -> x.divide(y, 7, BigDecimal.ROUND_HALF_UP)));
    
    
    public BigDecimal adding(BigDecimal x, BigDecimal y){
    	return x.add(y);
    }
    
	public String doCalc(String calc){
		try {
			String [] args = calc.split("\\s+");
			return commands.get(args[1]).apply(new BigDecimal(args[0]), new BigDecimal(args[2])).toString();
		} catch (Exception e) {
			return "Invalid command to calc";			
		}
	}	
  
}


	
	
